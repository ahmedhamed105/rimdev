<body class="hold-transition login-page">

<div class="login-box">

  <!-- /.login-logo -->
  <div *ngFor="let parent of components; let j = index">

  

    <div class="login-logo">
      <a href=""><b>{{parent.parent.pcodeTittle}}</b></a>
    </div>
 
    <div class="login-box-body" >

    <form [formGroup]="insertform[parent.parent.id]"  *ngIf="parent.parent.parentType == 'form'">
      <pre>{{parent.parent.id | json}}</pre>
      <pre>{{insertform[parent.parent.id].value | json}}</pre>

      <div  *ngFor="let component of parent.child; let i = index; let parentlen = count">

        <p>{{component.comp.ctype}}</p>
     
        <div *ngIf="component.comp.ctype == 'label'">
      <p class="login-box-msg">Sign in to start your session</p>
        </div>


      <div *ngIf="component.comp.ctype == 'input'">
        <!-- Execute code here if statement true -->
        <ng-container *ngIf="component.comp.groupname; then withgroup;else withoutgroup">
    </ng-container>


    
<ng-template #withgroup>
  <div class="form-group has-feedback"  formGroupName="{{component.comp.groupname}}"  *ngIf="component.input.inputtypeID.itype == 'Date'">
    <label>{{component.comp.ccode}}</label>
     <div class="input-group">
    <div class="input-group-addon">
      <i class="fa fa-calendar"></i>
    </div>
    <input  [class.is-invalid]="insertform[parent.parent.id].get(component.comp.name).invalid && insertform[parent.parent.id].get(component.comp.name).touched" formControlName="{{component.comp.name}}" type="{{component.input.inputtypeID.itype}}"   class="form-control"  >
    <div *ngIf="insertform[parent.parent.id].get(component.comp.name).invalid && insertform[parent.parent.id].get(component.comp.name).touched" class="invalid-feedback">
     <small *ngIf="insertform[parent.parent.id].get(component.comp.name).errors?.required" class="text-danger">{{component.comp.ccode}} is required</small> 
     <small *ngIf="insertform[parent.parent.id].get(component.comp.name).errors?.pattern" class="text-danger">{{component.comp.ccode}} must enter correctly</small> 
   </div>
</div>
</div>

<div class="form-group has-feedback" formGroupName="{{component.comp.groupname}}"  *ngIf="component.input.inputtypeID.itype == 'password'">
  <label>{{component.comp.ccode}}</label>
  <input  [class.is-invalid]="insertform[parent.parent.id].get(component.comp.name).invalid && insertform[parent.parent.id].get(component.comp.name).touched" formControlName="{{component.comp.name}}" type="{{component.input.inputtypeID.itype}}"   class="form-control"  >
  <div *ngIf="insertform[parent.parent.id].get(component.comp.name).invalid && insertform[parent.parent.id].get(component.comp.name).touched" class="invalid-feedback">
   <small *ngIf="insertform[parent.parent.id].get(component.comp.name).errors?.required" class="text-danger">{{component.comp.ccode}} is required</small> 
   <small *ngIf="insertform[parent.parent.id].get(component.comp.name).errors?.pattern" class="text-danger">{{component.comp.ccode}} must enter correctly</small> 
 </div>
</div>

<div class="form-group has-feedback" formGroupName="{{component.comp.groupname}}"  *ngIf="component.input.inputtypeID.itype == 'text' || component.input.inputtypeID.itype == 'email'">
  <label>{{component.comp.ccode}}</label>
  <input  [class.is-invalid]="insertform[parent.parent.id].get(component.comp.name).invalid && insertform[parent.parent.id].get(component.comp.name).touched" formControlName="{{component.comp.name}}" type="{{component.input.inputtypeID.itype}}"   class="form-control"  >
  <div *ngIf="insertform[parent.parent.id].get(component.comp.name).invalid && insertform[parent.parent.id].get(component.comp.name).touched" class="invalid-feedback">
   <small *ngIf="insertform[parent.parent.id].get(component.comp.name).errors?.required" class="text-danger">{{component.comp.ccode}} is required</small> 
   <small *ngIf="insertform[parent.parent.id].get(component.comp.name).errors?.pattern" class="text-danger">{{component.comp.ccode}} must enter correctly</small> 
 </div>
</div>


<div class="form-group has-feedback"  formGroupName="{{component.comp.groupname}}"  *ngIf="component.input.inputtypeID.itype == 'password'">
  <label>{{component.comp.ccode}}</label>
  <input  [class.is-invalid]="insertform[parent.parent.id].get(component.comp.name).invalid && insertform[parent.parent.id].get(component.comp.name).touched" formControlName="{{component.comp.name}}" type="{{component.input.inputtypeID.itype}}"   class="form-control"  >
  <div *ngIf="insertform[parent.parent.id].get(component.comp.name).invalid && insertform[parent.parent.id].get(component.comp.name).touched" class="invalid-feedback">
   <small *ngIf="insertform[parent.parent.id].get(component.comp.name).errors?.required" class="text-danger">{{component.comp.ccode}} is required</small> 
   <small *ngIf="insertform[parent.parent.id].get(component.comp.name).errors?.pattern" class="text-danger">{{component.comp.ccode}} must enter correctly</small> 
 </div>
 <app-password-strength
          [passwordToCheck]="insertform[parent.parent.id].get(component.comp.name).value"
          (passwordStrength)="passwordValid($event)"
          ></app-password-strength>
</div>


</ng-template>




<ng-template #withoutgroup>

  <div class="form-group has-feedback"   *ngIf="component.input.inputtypeID.itype == 'date'">
    <label>{{component.comp.ccode}}</label>
     <div class="input-group">
    <div class="input-group-addon">
      <i class="fa fa-calendar"></i>
    </div>
    <input  [class.is-invalid]="insertform[parent.parent.id].get(component.comp.name).invalid && insertform[parent.parent.id].get(component.comp.name).touched" formControlName="{{component.comp.name}}" type="{{component.input.inputtypeID.itype}}"   class="form-control"  >
    <div *ngIf="insertform[parent.parent.id].get(component.comp.name).invalid && insertform[parent.parent.id].get(component.comp.name).touched" class="invalid-feedback">
     <small *ngIf="insertform[parent.parent.id].get(component.comp.name).errors?.required" class="text-danger">{{component.comp.ccode}} is required</small> 
     <small *ngIf="insertform[parent.parent.id].get(component.comp.name).errors?.pattern" class="text-danger">{{component.comp.ccode}} must enter correctly</small> 
   </div>
</div>
</div>

<div class="form-group has-feedback"    *ngIf="component.input.inputtypeID.itype == 'password'">
  <label>{{component.comp.ccode}}</label>
  <input  [class.is-invalid]="insertform[parent.parent.id].get(component.comp.name).invalid && insertform[parent.parent.id].get(component.comp.name).touched" formControlName="{{component.comp.name}}" type="{{component.input.inputtypeID.itype}}"   class="form-control"  >
  <div *ngIf="insertform[parent.parent.id].get(component.comp.name).invalid && insertform[parent.parent.id].get(component.comp.name).touched" class="invalid-feedback">
   <small *ngIf="insertform[parent.parent.id].get(component.comp.name).errors?.required" class="text-danger">{{component.comp.ccode}} is required</small> 
   <small *ngIf="insertform[parent.parent.id].get(component.comp.name).errors?.pattern" class="text-danger">{{component.comp.ccode}} must enter correctly</small> 
 </div>
 <app-password-strength
          [passwordToCheck]="insertform[parent.parent.id].get(component.comp.name).value"
          (passwordStrength)="passwordValid($event)"
          ></app-password-strength>
</div>

<div class="form-group has-feedback"    *ngIf="component.input.inputtypeID.itype == 'text' || component.input.inputtypeID.itype == 'email'">
  <label>{{component.comp.ccode}}</label>
  <input  [class.is-invalid]="insertform[parent.parent.id].get(component.comp.name).invalid && insertform[parent.parent.id].get(component.comp.name).touched" formControlName="{{component.comp.name}}" type="{{component.input.inputtypeID.itype}}"   class="form-control"  >
  <div *ngIf="insertform[parent.parent.id].get(component.comp.name).invalid && insertform[parent.parent.id].get(component.comp.name).touched" class="invalid-feedback">
   <small *ngIf="insertform[parent.parent.id].get(component.comp.name).errors?.required" class="text-danger">{{component.comp.ccode}} is required</small> 
   <small *ngIf="insertform[parent.parent.id].get(component.comp.name).errors?.pattern" class="text-danger">{{component.comp.ccode}} must enter correctly</small> 
 </div>
</div>

</ng-template>


</div>

    <div class="social-auth-links text-center" *ngIf="component.comp.ctype == 'loginlink'">
      <a href="#" class="btn btn-block btn-social btn-facebook btn-flat"><i class="fa fa-facebook"></i> Sign in using
        Facebook</a>
      
    </div>
    <!-- /.social-auth-links -->

    <div  *ngIf="component.comp.ctype == 'link'">
      <a href="#">I forgot my password</a><br>
      </div>
  
  <!-- component -->

  
<div class="row" *ngIf="component.comp.ctype == 'button' && component.button.disable === 1" >
  <div class="col-xs-8">
    <div class="checkbox icheck">
      <!-- Material checked -->
      <mat-checkbox class="example-margin" >Rember me</mat-checkbox>
    </div>
  </div>
  <!-- /.col -->
  <div class="col-xs-4">
    <button *ngIf="component.comp.ctype == 'button' && component.button.disable === 1"  [disabled]="!insertform[parent.parent.id].valid" class="btn {{component.button.buttonClass}}" type="{{component.button.buttonType}}" (click)="component.button.buttonMethod == null ?'':this[component.button.buttonMethod](insertform[parent.parent.id],component.button.buttonService,parent.parent.relatedType,parent.parent.relatedParent,parent.parent.comIP,parent.parent.comport,parent.parent.routingInd,parent.parent.routingLoc)" >{{component.comp.ccode}}</button>   
  <!-- /.col -->
</div>
</div>


    </div>
  </form>

      <!-- parent -->
    </div>
  <!-- /.login-box-body -->
</div>
</div>
<!-- /.login-box -->

</body>

